(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{282:function(e,t,a){e.exports=a(585)},287:function(e,t,a){},288:function(e,t,a){},585:function(e,t,a){"use strict";a.r(t);var n=a(12),r=a.n(n),i=a(115),o=a.n(i),l=(a(287),a(280)),c=a(279),s=a(149),m=a(227),u=a(228),d=a(233),h=a(229),p=a(234),g=(a(288),a(42)),E=a.n(g),v=a(189),f=a.n(v),y=a(274),C=a.n(y),w=a(275),b=a.n(w),k=a(104),O=a.n(k),x=a(273),S=a.n(x),j=a(230),I=a.n(j),A=a(232),L=a.n(A),W=a(111),P=a.n(W),z=a(231),R=a.n(z),U=a(157),M=a.n(U),V=a(164),B=a.n(V),G=a(277),N=a.n(G),T=a(276),D=a.n(T),F=a(278),J=a.n(F),$=a(131),K=a.n($),H=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).editors=[],a.emotion=null,a.hack=null,window.addEventListener("load",function(){return a.onPageLoad()}),window.addEventListener("resize",function(){return a.updateSize()}),a.state={mode:"compiler",editorCode:"",editorOutput:"",editorArguments:"",editorGeneratedOpen:!1,interpreterCode:"",interpreterArguments:"",interpreterOutput:"",decompilerProgram:"",loaded:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=new URL(window.location).searchParams.get("state");null!==e&&this.decodeState(e)}},{key:"onPageLoad",value:function(){var e=this;a.e(56).then(a.t.bind(null,648,7)).then(function(t){var a=performance.now();if(t.default(),console.log("Engine init took "+(performance.now()-a)+" milliseconds."),e.emotion=window.emotion,e.setState({loaded:!0}),null!=e.hack){var n=e.emotion.getOpcodes(),r=[],i=[];n.push("load");var o=!0,l=!1,c=void 0;try{for(var s,m=n[Symbol.iterator]();!(o=(s=m.next()).done);o=!0){var u=s.value;if(e.isValidOpcode(u)){var d=u.startsWith("load")?"":"$";r.push(["^(\\s*)"+u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+d,"keyword"]),i.push({label:u,insertText:u,kind:"load"===u?e.hack.languages.CompletionItemKind.Constant:e.hack.languages.CompletionItemKind.Function})}}}catch(h){l=!0,c=h}finally{try{o||null==m.return||m.return()}finally{if(l)throw c}}e.hack.languages.setMonarchTokensProvider("elang",{tokenizer:{root:r}}),e.hack.languages.registerCompletionItemProvider("elang",{provideCompletionItems:function(){return{suggestions:i}}})}})}},{key:"isValidOpcode",value:function(e){return!(e.startsWith("UNUSED")||e.startsWith("load ")||e.startsWith("sdr 0x")||e.startsWith("ldr 0x"))}},{key:"injectStateUrl",value:function(){var e=this.encodeState(this.state),t=new URL(window.location);t.searchParams.set("state",e),window.history.replaceState("statedata","",t)}},{key:"encodeState",value:function(e){var t=void 0;switch(e.mode){case"compiler":t={editorCode:e.editorCode,editorArguments:e.editorArguments};break;case"interpreter":t={interpreterCode:e.interpreterCode,interpreterArguments:e.interpreterArguments};break;default:t={}}return t.mode=e.mode,btoa(encodeURIComponent(JSON.stringify(t)))}},{key:"decodeState",value:function(e){this.setState(Object(s.a)({},JSON.parse(decodeURIComponent(atob(e)))))}},{key:"updateSize",value:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=this.editors[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){n.value.layout()}}catch(i){t=!0,a=i}finally{try{e||null==r.return||r.return()}finally{if(t)throw a}}}},{key:"runCodeEditor",value:function(){if(this.state.loaded){var e=this.emotion.execute(this.state.editorCode,this.state.editorArguments);this.setState({editorOutput:e})}}},{key:"runCodeInterpreter",value:function(){if(this.state.loaded){var e=this.emotion.interpret(this.state.interpreterCode,this.state.interpreterArguments);this.setState({interpreterOutput:e})}}},{key:"mutateEditor",value:function(e){this.hack=e,e.editor.defineTheme("emotion",{base:"vs",inherit:!0,rules:[{token:"keyword",foreground:"0000ff"}]}),e.languages.register({id:"elang"})}},{key:"getCodeBytes",value:function(e){return Object(c.a)(e).length}},{key:"updateMode",value:function(e){return this.state.mode=e,this.injectStateUrl(),void window.location.reload()}},{key:"generateStackExchange",value:function(){if(!this.state.loaded)return"";var e=[],t=this.emotion.compile(this.state.editorCode);if(void 0!==t.program){var a=window.location.protocol+"//"+window.location.host+window.location.pathname;a.endsWith("/")||(a+="/");var n=a+"/?state="+this.encodeState({mode:"codepage"}),r=a+"/?state="+this.encodeState({mode:"interpreter",interpreterCode:t.program,interpreterArguments:this.state.editorArguments});e.push("# [Emotion][1], "+this.getCodeBytes(t.program)+" [bytes][2]"),e.push(""),e.push("    "+t.program),e.push("Explanation"),e.push("");var i=!0,o=!1,l=void 0;try{for(var c,s=t.explanation[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var m=c.value;e.push("    "+m)}}catch(u){o=!0,l=u}finally{try{i||null==s.return||s.return()}finally{if(o)throw l}}e.push(""),e.push("[Try it online!][3]"),e.push(""),e.push(""),e.push("  [1]: https://github.com/Quantum64/Emotion"),e.push("  [2]: "+n),e.push("  [3]: "+r)}else e.push("Program did not compile!");return e.join("\n")}},{key:"getEditorContent",value:function(){var e=this,t=this.state.editorCode,a="Initializing Engine...",n=0;if(this.state.loaded){var i=performance.now(),o=this.emotion.compile(t);a=o.output,void 0!==o.program&&(n=this.getCodeBytes(o.program)),console.log("Compiled code in "+(performance.now()-i)+" milliseconds.")}var l={selectOnLineNumbers:!0,automaticLayout:!1},c=Object(s.a)({},l,{minimap:{enabled:!1}}),m=Object(s.a)({},c,{readOnly:!0});return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{container:!0,direction:"column",spacing:0,style:{height:"100%"}},r.a.createElement(E.a,{item:!0},r.a.createElement(O.a,{variant:"h6"},"Code (",n," bytes)")),r.a.createElement(E.a,{item:!0,xs:!0},r.a.createElement(K.a,{width:"100%",height:"100%",language:"elang",theme:"emotion",value:t,options:l,onChange:function(t,a){e.setState({editorCode:t})},editorWillMount:function(t){return e.mutateEditor(t)}})),r.a.createElement("br",null),r.a.createElement(E.a,{item:!0},r.a.createElement(O.a,{variant:"h6"},"Compiler Output")),r.a.createElement(E.a,{item:!0,xs:!0},r.a.createElement(K.a,{width:"100%",height:"100%",language:"text",theme:"emotion",value:a,options:m})),r.a.createElement("br",null),r.a.createElement(E.a,{item:!0,xs:!0},r.a.createElement(E.a,{container:!0,style:{height:"100%"}},r.a.createElement(E.a,{item:!0,xs:!0},r.a.createElement(E.a,{container:!0,direction:"column",spacing:0,style:{height:"100%"}},r.a.createElement(E.a,{item:!0},r.a.createElement(E.a,{container:!0,direction:"row",alignItems:"center",spacing:16,style:{padding:5}},r.a.createElement(E.a,{item:!0},r.a.createElement(O.a,{variant:"h6"},"Program Output")),r.a.createElement(E.a,{item:!0},r.a.createElement(f.a,{size:"small",variant:"contained",color:"primary",onClick:function(){return e.runCodeEditor()}},"Run Code")),r.a.createElement(E.a,{item:!0},r.a.createElement(f.a,{size:"small",variant:"contained",color:"secondary",onClick:function(){e.setState({editorGeneratedOpen:!0})}},"Generate StackExchange")))),r.a.createElement(E.a,{item:!0,xs:!0},r.a.createElement(K.a,{width:"100%",height:"100%",language:"text",theme:"emotion",value:this.state.editorOutput,options:m})))),r.a.createElement(E.a,{item:!0,xs:!0},r.a.createElement(E.a,{container:!0,direction:"column",spacing:0,style:{height:"100%"}},r.a.createElement(E.a,{item:!0},r.a.createElement(E.a,{container:!0,direction:"row",alignItems:"center",spacing:16,style:{padding:5}},r.a.createElement(E.a,{item:!0},r.a.createElement(O.a,{variant:"h6"},"Arguments")))),r.a.createElement(E.a,{item:!0,xs:!0},r.a.createElement(K.a,{width:"100%",height:"100%",language:"text",theme:"emotion",value:this.state.editorArguments,options:c,onChange:function(t,a){e.setState({editorArguments:t})}}))))))),r.a.createElement(Q,{selectedValue:this.state.selectedValue,open:this.state.editorGeneratedOpen,onClose:function(){e.setState({editorGeneratedOpen:!1})},value:function(){return e.generateStackExchange()}}))}},{key:"getInterpreterContent",value:function(){var e=this,t=this.state.interpreterCode,a=this.state.interpreterArguments,n=this.getCodeBytes(t),i={selectOnLineNumbers:!0,automaticLayout:!1},o=Object(s.a)({},i,{minimap:{enabled:!1}}),l=Object(s.a)({},o,{readOnly:!0});return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{container:!0,direction:"column",spacing:0,style:{height:"100%"}},r.a.createElement(E.a,{item:!0},r.a.createElement(O.a,{variant:"h6"},"Code (",n," bytes)")),r.a.createElement(E.a,{item:!0,xs:!0},r.a.createElement(K.a,{width:"100%",height:"100%",language:"elang",theme:"emotion",value:t,options:i,onChange:function(t,a){e.setState({interpreterCode:t})},editorWillMount:function(t){return e.mutateEditor(t)}})),r.a.createElement("br",null),r.a.createElement(E.a,{item:!0},r.a.createElement(O.a,{variant:"h6"},"Arguments")),r.a.createElement(E.a,{item:!0,xs:!0},r.a.createElement(K.a,{width:"100%",height:"100%",language:"text",theme:"emotion",value:a,options:o,onChange:function(t,a){e.setState({interpreterArguments:t})}})),r.a.createElement("br",null),r.a.createElement(E.a,{item:!0},r.a.createElement(E.a,{container:!0,direction:"row",alignItems:"center",spacing:16,style:{padding:5}},r.a.createElement(E.a,{item:!0},r.a.createElement(O.a,{variant:"h6"},"Output")),r.a.createElement(E.a,{item:!0},r.a.createElement(f.a,{size:"small",variant:"contained",color:"primary",onClick:function(){return e.runCodeInterpreter()}},"Run Code")))),r.a.createElement(E.a,{item:!0,xs:!0},r.a.createElement(K.a,{width:"100%",height:"100%",language:"text",theme:"emotion",value:this.state.interpreterOutput,options:l}))))}},{key:"getDecompileContent",value:function(){var e=this,t=this.state.decompilerProgram,a="Initializing Engine...";this.state.loaded&&(a=this.emotion.decompile(t));var n={selectOnLineNumbers:!0,automaticLayout:!1},i=Object(s.a)({},n,{minimap:{enabled:!1}}),o=Object(s.a)({},i,{readOnly:!0});return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{container:!0,direction:"column",spacing:0,style:{height:"100%"}},r.a.createElement(E.a,{item:!0},r.a.createElement(O.a,{variant:"h6"},"Program")),r.a.createElement(E.a,{item:!0,xs:!0},r.a.createElement(K.a,{width:"100%",height:"100%",language:"text",theme:"emotion",value:t,options:n,onChange:function(t,a){return e.setState({decompilerProgram:t})},editorWillMount:function(t){return e.mutateEditor(t)}})),r.a.createElement("br",null),r.a.createElement(E.a,{item:!0},r.a.createElement(O.a,{variant:"h6"},"Lexer Output")),r.a.createElement(E.a,{item:!0,xs:!0},r.a.createElement(K.a,{width:"100%",height:"100%",language:"elang",theme:"emotion",value:a,options:o}))))}},{key:"getReferenceContent",value:function(){var e=[];if(this.state.loaded){var t=!0,a=!1,n=void 0;try{for(var i,o=this.emotion.getOpcodes()[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var l=i.value;this.isValidOpcode(l)&&e.push(r.a.createElement(M.a,{key:l},r.a.createElement(P.a,null,l),r.a.createElement(P.a,null,this.emotion.getOpcodeDescription(l))))}}catch(c){a=!0,n=c}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}}else e.push(r.a.createElement(M.a,{key:"loading"},r.a.createElement(P.a,null,"Loading"),r.a.createElement(P.a,null,"The engine has not fully loaded yet.")));return r.a.createElement("div",null,r.a.createElement(O.a,{variant:"h2",style:{color:"grey"}},"Emotion Reference"),"I may write a programming guide at some point when I have time... but for now just try sticking the below opcodes in the compiler and see what happens.",r.a.createElement(B.a,null,r.a.createElement(I.a,null,r.a.createElement(R.a,null,r.a.createElement(M.a,null,r.a.createElement(P.a,null,"Opcode"),r.a.createElement(P.a,null,"Description"))),r.a.createElement(L.a,null,e))))}},{key:"getCodepageContent",value:function(){var e=[];if(this.state.loaded){var t=0,a=!0,n=!1,i=void 0;try{for(var o,l=this.emotion.getCodepage()[Symbol.iterator]();!(a=(o=l.next()).done);a=!0){var c=o.value;e.push(r.a.createElement(M.a,{key:c},r.a.createElement(P.a,null,t),r.a.createElement(P.a,null,"0x",t.toString(16)),r.a.createElement(P.a,null,c))),t++}}catch(s){n=!0,i=s}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}}else e.push(r.a.createElement(M.a,{key:"loading"},r.a.createElement(P.a,null,"Loading Engine")));return r.a.createElement("div",null,r.a.createElement(O.a,{variant:"h2",style:{color:"grey"}},"Codepage"),r.a.createElement(O.a,{variant:"h6",gutterBottom:!0},"The codepage is comprised of 256 emoji, each representing one byte."),r.a.createElement(B.a,null,r.a.createElement(I.a,null,r.a.createElement(R.a,null,r.a.createElement(M.a,null,r.a.createElement(P.a,null,"Id"),r.a.createElement(P.a,null,"Hex"),r.a.createElement(P.a,null,"Character"))),r.a.createElement(L.a,null,e))))}},{key:"render",value:function(){var e=this;this.injectStateUrl();var t=null;switch(this.state.mode){case"interpreter":t=this.getInterpreterContent();break;case"compiler":t=this.getEditorContent();break;case"reference":t=this.getReferenceContent();break;case"lexer":t=this.getDecompileContent();break;case"codepage":t=this.getCodepageContent()}for(var a=["interpreter","compiler","lexer","reference","codepage"],n=[],i=function(){var t=a[o];n.push(r.a.createElement(E.a,{item:!0,key:t},r.a.createElement(f.a,{variant:"outlined",size:"small",color:"default",style:{color:"white"},onClick:function(){return e.updateMode(t)}},t)))},o=0;o<a.length;o++)i();return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(S.a,null),r.a.createElement(C.a,{position:"static"},r.a.createElement(b.a,null,r.a.createElement(E.a,{container:!0,spacing:16,alignItems:"center"},r.a.createElement(E.a,{item:!0},r.a.createElement(O.a,{variant:"h6",color:"inherit",noWrap:!0},"Emotion")),n))),r.a.createElement(E.a,{container:!0,justify:"center",style:{padding:20,height:"90%"}},r.a.createElement(E.a,{item:!0,xs:!0},t)))}}]),t}(n.Component),Q=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleClose=function(){a.props.onClose(a.props.selectedValue)},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.classes,e.onClose,e.selectedValue,Object(l.a)(e,["classes","onClose","selectedValue"]));return r.a.createElement(D.a,Object.assign({fullWidth:!0,onClose:this.handleClose,"aria-labelledby":"simple-dialog-title"},t),r.a.createElement(N.a,{id:"simple-dialog-title"},"Generated StackExchange Answer"),r.a.createElement("div",{style:{padding:10}},r.a.createElement(J.a,{id:"outlined-textarea",label:"Copy Me!",multiline:!0,fullWidth:!0,margin:"normal",variant:"outlined",value:this.props.value()})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[282,2,3]]]);
//# sourceMappingURL=main.56dfea72.chunk.js.map